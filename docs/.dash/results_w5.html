<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Week 5 — Results (Projected vs Actual)</title>
  <link rel="stylesheet" href="ff.css">
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; margin: 0 auto; max-width: 960px; padding: 24px 16px; background: #fafafa; }
    h1 { margin-bottom: 16px; }
    .cards { display: flex; flex-wrap: wrap; gap: 12px; margin: 16px 0 24px; }
    .card { flex: 1 1 140px; background: #fff; border: 1px solid #e2e2e2; border-radius: 8px; padding: 12px 16px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
    .card-title { font-size: 12px; text-transform: uppercase; letter-spacing: 0.06em; color: #5b6b88; }
    .card-value { font-size: 22px; font-weight: 600; margin-top: 4px; color: #1f2a44; }
    .chart-container { background: #fff; border: 1px solid #e2e2e2; border-radius: 8px; padding: 16px; margin-bottom: 24px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
    #results-table { width: 100%; border-collapse: collapse; background: #fff; border: 1px solid #e2e2e2; border-radius: 8px; overflow: hidden; }
    #results-table th, #results-table td { padding: 10px 12px; text-align: left; border-bottom: 1px solid #ecf0f7; font-size: 14px; }
    #results-table th { background: #f5f7fb; cursor: pointer; position: sticky; top: 0; }
    #results-table tbody tr:nth-child(even) { background: #fdfdff; }
    .error-over { color: #c23b21; font-weight: 600; }
    .error-under { color: #1a7f46; font-weight: 600; }
    .links { margin-top: 16px; font-size: 14px; }
    .note { margin: 8px 0; font-size: 13px; color: #5b6b88; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
  <header>
    <a href="index.html">← Back to .dash index</a>
    <h1>Week 5 — Results (Projected vs Actual)</h1>
  </header>

  <section class="cards"><div class='card'><div class='card-title'>Players</div><div class='card-value'>40</div></div><div class='card'><div class='card-title'>Starters</div><div class='card-value'>0</div></div><div class='card'><div class='card-title'>Waiver Adds</div><div class='card-value'>0</div></div><div class='card'><div class='card-title'>MAE</div><div class='card-value'>17.10</div></div><div class='card'><div class='card-title'>RMSE</div><div class='card-value'>24.50</div></div><div class='card'><div class='card-title'>Bias</div><div class='card-value'>-14.06</div></div></section>

  <section class="chart-container">
    <canvas id="resultsChart" height="320"></canvas>
    
  </section>

  <section>
    <h2>Projected vs Actual Table</h2>
    <table id="results-table" class="results-table"><thead><tr><th data-key="name">Name</th><th data-key="pos">Pos</th><th data-key="team">Team</th><th data-key="points">Actual</th><th data-key="proj_points">Proj</th><th data-key="error">Error</th><th data-key="abs_error">|Error|</th><th data-key="is_starter">Starter</th><th data-key="was_waiver_add">Waiver Add</th></tr></thead><tbody><tr><td>Jared Goff</td><td>QB</td><td>DET</td><td>27.42</td><td>15.00</td><td class="error-under">-12.42</td><td>12.42</td><td>No</td><td>No</td></tr><tr><td>Geno Smith</td><td>QB</td><td>SEA</td><td>38.12</td><td>16.71</td><td class="error-under">-21.41</td><td>21.41</td><td>No</td><td>No</td></tr><tr><td>Jacoby Brissett</td><td>QB</td><td>NE</td><td>7.40</td><td>15.00</td><td class="error-over">7.60</td><td>7.60</td><td>No</td><td>No</td></tr><tr><td>Jake Haener</td><td>QB</td><td>NO</td><td>1.78</td><td>15.00</td><td class="error-over">13.22</td><td>13.22</td><td>No</td><td>No</td></tr><tr><td>Jalen Hurts</td><td>QB</td><td>PHI</td><td>46.62</td><td>15.00</td><td class="error-under">-31.62</td><td>31.62</td><td>No</td><td>No</td></tr><tr><td>Jameis Winston</td><td>QB</td><td>CLE</td><td>0.34</td><td>15.00</td><td class="error-over">14.66</td><td>14.66</td><td>No</td><td>No</td></tr><tr><td>Jayden Daniels</td><td>QB</td><td>WAS</td><td>17.72</td><td>15.00</td><td>-2.72</td><td>2.72</td><td>No</td><td>No</td></tr><tr><td>Joe Flacco</td><td>QB</td><td>IND</td><td>16.56</td><td>15.00</td><td>-1.56</td><td>1.56</td><td>No</td><td>No</td></tr><tr><td>Jordan Love</td><td>QB</td><td>GB</td><td>20.94</td><td>16.16</td><td class="error-under">-4.78</td><td>4.78</td><td>No</td><td>No</td></tr><tr><td>Josh Allen</td><td>QB</td><td>BUF</td><td>95.02</td><td>15.00</td><td class="error-under">-80.02</td><td>80.02</td><td>No</td><td>No</td></tr><tr><td>Alvin Kamara</td><td>RB</td><td>NO</td><td>74.62</td><td>13.07</td><td class="error-under">-61.55</td><td>61.55</td><td>No</td><td>No</td></tr><tr><td>Travis Etienne</td><td>RB</td><td>JAC</td><td>35.80</td><td>10.00</td><td class="error-under">-25.80</td><td>25.80</td><td>No</td><td>No</td></tr><tr><td>Jerome Ford</td><td>RB</td><td>CLE</td><td>4.90</td><td>10.00</td><td class="error-over">5.10</td><td>5.10</td><td>No</td><td>No</td></tr><tr><td>Zach Charbonnet</td><td>RB</td><td>SEA</td><td>3.00</td><td>10.00</td><td class="error-over">7.00</td><td>7.00</td><td>No</td><td>No</td></tr><tr><td>Zack Moss</td><td>RB</td><td>CIN</td><td>5.20</td><td>10.00</td><td class="error-over">4.80</td><td>4.80</td><td>No</td><td>No</td></tr><tr><td>Breece Hall</td><td>RB</td><td>NYJ</td><td>42.80</td><td>10.00</td><td class="error-under">-32.80</td><td>32.80</td><td>No</td><td>No</td></tr><tr><td>Javonte Williams</td><td>RB</td><td>DEN</td><td>19.70</td><td>10.00</td><td class="error-under">-9.70</td><td>9.70</td><td>No</td><td>No</td></tr><tr><td>Dare Ogunbowale</td><td>RB</td><td>HOU</td><td>8.70</td><td>10.00</td><td>1.30</td><td>1.30</td><td>No</td><td>No</td></tr><tr><td>D'Andre Swift</td><td>RB</td><td>CHI</td><td>12.00</td><td>11.58</td><td>-0.42</td><td>0.42</td><td>No</td><td>No</td></tr><tr><td>Chuba Hubbard</td><td>RB</td><td>CAR</td><td>26.40</td><td>12.53</td><td class="error-under">-13.87</td><td>13.87</td><td>No</td><td>No</td></tr><tr><td>Garrett Wilson</td><td>WR</td><td>NYJ</td><td>18.20</td><td>0.00</td><td class="error-under">-18.20</td><td>18.20</td><td>No</td><td>No</td></tr><tr><td>Drake London</td><td>WR</td><td>ATL</td><td>27.58</td><td>0.00</td><td class="error-under">-27.58</td><td>27.58</td><td>No</td><td>No</td></tr><tr><td>Diontae Johnson</td><td>WR</td><td>CAR</td><td>2.90</td><td>0.00</td><td>-2.90</td><td>2.90</td><td>No</td><td>No</td></tr><tr><td>Wan'Dale Robinson</td><td>WR</td><td>NYG</td><td>5.90</td><td>0.00</td><td class="error-under">-5.90</td><td>5.90</td><td>No</td><td>No</td></tr><tr><td>Darnell Mooney</td><td>WR</td><td>ATL</td><td>10.50</td><td>0.00</td><td class="error-under">-10.50</td><td>10.50</td><td>No</td><td>No</td></tr><tr><td>Amari Cooper</td><td>WR</td><td>CLE</td><td>13.60</td><td>0.00</td><td class="error-under">-13.60</td><td>13.60</td><td>No</td><td>No</td></tr><tr><td>Justin Jefferson</td><td>WR</td><td>MIN</td><td>43.02</td><td>0.00</td><td class="error-under">-43.02</td><td>43.02</td><td>No</td><td>No</td></tr><tr><td>Tee Higgins</td><td>WR</td><td>CIN</td><td>17.70</td><td>0.00</td><td class="error-under">-17.70</td><td>17.70</td><td>No</td><td>No</td></tr><tr><td>Stefon Diggs</td><td>WR</td><td>HOU</td><td>8.20</td><td>0.00</td><td class="error-under">-8.20</td><td>8.20</td><td>No</td><td>No</td></tr><tr><td>Jakobi Meyers</td><td>WR</td><td>LV</td><td>14.70</td><td>0.00</td><td class="error-under">-14.70</td><td>14.70</td><td>No</td><td>No</td></tr><tr><td>Colby Parkinson</td><td>TE</td><td>LAR</td><td>0.00</td><td>7.00</td><td class="error-over">7.00</td><td>7.00</td><td>No</td><td>No</td></tr><tr><td>Jake Ferguson</td><td>TE</td><td>DAL</td><td>9.80</td><td>0.00</td><td class="error-under">-9.80</td><td>9.80</td><td>No</td><td>No</td></tr><tr><td>Travis Kelce</td><td>TE</td><td>KC</td><td>64.50</td><td>0.00</td><td class="error-under">-64.50</td><td>64.50</td><td>No</td><td>No</td></tr><tr><td>Tyler Conklin</td><td>TE</td><td>NYJ</td><td>12.20</td><td>0.00</td><td class="error-under">-12.20</td><td>12.20</td><td>No</td><td>No</td></tr><tr><td>Cade Otton</td><td>TE</td><td>TB</td><td>8.70</td><td>0.00</td><td class="error-under">-8.70</td><td>8.70</td><td>No</td><td>No</td></tr><tr><td>Dallas Goedert</td><td>TE</td><td>PHI</td><td>26.70</td><td>0.00</td><td class="error-under">-26.70</td><td>26.70</td><td>No</td><td>No</td></tr><tr><td>Brock Bowers</td><td>TE</td><td>LV</td><td>9.70</td><td>0.00</td><td class="error-under">-9.70</td><td>9.70</td><td>No</td><td>No</td></tr><tr><td>Dalton Kincaid</td><td>TE</td><td>BUF</td><td>5.30</td><td>0.00</td><td class="error-under">-5.30</td><td>5.30</td><td>No</td><td>No</td></tr><tr><td>Cole Kmet</td><td>TE</td><td>CHI</td><td>16.60</td><td>0.00</td><td class="error-under">-16.60</td><td>16.60</td><td>No</td><td>No</td></tr><tr><td>Tucker Kraft</td><td>TE</td><td>GB</td><td>8.80</td><td>0.00</td><td class="error-under">-8.80</td><td>8.80</td><td>No</td><td>No</td></tr></tbody></table>
  </section>

  <div class="links">
    <strong>Related:</strong> <a href="lineup_delta_w5.html">Lineup</a> | <a href="waivers_w5.html">Waivers</a> | <a href="trades_w5.html">Trades</a> | <a href="../ff/index.html">Dashboard</a> | <a href="season.html">Season Summary</a>
  </div>

  <script>
    const dataset = {"labels": ["Josh Allen", "Travis Kelce", "Alvin Kamara", "Justin Jefferson", "Breece Hall", "Jalen Hurts", "Drake London", "Dallas Goedert", "Travis Etienne", "Geno Smith", "Garrett Wilson", "Tee Higgins", "Cole Kmet", "Jakobi Meyers", "Jameis Winston", "Chuba Hubbard", "Amari Cooper", "Jake Haener", "Jared Goff", "Tyler Conklin", "Darnell Mooney", "Jake Ferguson", "Javonte Williams", "Brock Bowers", "Tucker Kraft", "Cade Otton", "Stefon Diggs", "Jacoby Brissett", "Zach Charbonnet", "Colby Parkinson", "Wan'Dale Robinson", "Dalton Kincaid", "Jerome Ford", "Zack Moss", "Jordan Love", "Diontae Johnson", "Jayden Daniels", "Joe Flacco", "Dare Ogunbowale", "D'Andre Swift"], "actual": [95.02, 64.5, 74.62, 43.02, 42.8, 46.62, 27.58, 26.7, 35.8, 38.12, 18.2, 17.7, 16.6, 14.7, 0.34, 26.4, 13.6, 1.78, 27.42, 12.2, 10.5, 9.8, 19.7, 9.7, 8.8, 8.7, 8.2, 7.4, 3.0, 0.0, 5.9, 5.3, 4.9, 5.2, 20.94, 2.9, 17.72, 16.56, 8.7, 12.0], "projected": [15.0, 0.0, 13.07, 0.0, 10.0, 15.0, 0.0, 0.0, 10.0, 16.71, 0.0, 0.0, 0.0, 0.0, 15.0, 12.53, 0.0, 15.0, 15.0, 0.0, 0.0, 0.0, 10.0, 0.0, 0.0, 0.0, 0.0, 15.0, 10.0, 7.0, 0.0, 0.0, 10.0, 10.0, 16.16, 0.0, 15.0, 15.0, 10.0, 11.58], "has_projection": true, "limit_note": ""};
    const ctx = document.getElementById('resultsChart');
    if (ctx) {
      const series = [
        {
          label: 'Actual',
          data: dataset.actual,
          borderWidth: 1,
          borderColor: '#1f78b4',
          backgroundColor: 'rgba(31, 120, 180, 0.6)'
        }
      ];
      if (dataset.has_projection) {
        series.push({
          label: 'Projected',
          data: dataset.projected,
          borderWidth: 1,
          borderColor: '#ff7f00',
          backgroundColor: 'rgba(255, 127, 0, 0.5)'
        });
      }
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: dataset.labels,
          datasets: series
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: { stacked: false },
            y: { stacked: false }
          },
          plugins: {
            legend: { position: 'top' },
            tooltip: { mode: 'index', intersect: false }
          }
        }
      });
    }

    const table = document.getElementById('results-table');
    if (table) {
      const headers = table.querySelectorAll('th[data-key]');
      headers.forEach((header) => {
        header.addEventListener('click', () => {
          const key = header.getAttribute('data-key');
          const rows = Array.from(table.querySelector('tbody').rows);
          const asc = header.classList.toggle('sort-asc');
          header.classList.toggle('sort-desc', !asc);
          rows.sort((a, b) => {
            const av = a.querySelector(`td:nth-child(${header.cellIndex + 1})`).innerText;
            const bv = b.querySelector(`td:nth-child(${header.cellIndex + 1})`).innerText;
            const an = parseFloat(av.replace(/[^0-9.-]/g, ''));
            const bn = parseFloat(bv.replace(/[^0-9.-]/g, ''));
            if (!Number.isNaN(an) && !Number.isNaN(bn)) {
              return asc ? an - bn : bn - an;
            }
            return asc ? av.localeCompare(bv) : bv.localeCompare(av);
          });
          const tbody = table.querySelector('tbody');
          rows.forEach((row) => tbody.appendChild(row));
        });
      });
    }
  </script>
</body>
</html>
